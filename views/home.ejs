<!DOCTYPE html>
<html>
<head>
  <title>CarRental</title>
  <link rel="stylesheet" href="/styles.css">
  <style>
    .grid {
      display: flex;
      flex-wrap: wrap;
      gap: 1.5em;
      margin-top: 1em;
    }
    .card {
      border: 1px solid #ccc;
      padding: 1em;
      border-radius: 10px;
      width: 220px;
      text-align: center;
      box-shadow: 0 2px 4px rgba(0,0,0,0.1);
    }
    .card img {
      width: 100%;
      height: 150px;
      object-fit: cover;
      border-radius: 6px;
    }
    header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      padding: 1em 0;
    }
    header h1 a {
      text-decoration: none;
      font-size: 1.5em;
      color: #333;
    }
  </style>
</head>
<body>
  <header>
    <h1><a href="/">CarRental</a></h1>
    <form method="get" action="/">
      <input type="text" name="keyword" placeholder="Search cars..." />
      <button type="submit">Search</button>
    </form>
  </header>

  <h2>Find Your Perfect Rental Car</h2>

  <!-- 搜索与筛选表单 -->
  <form method="get" action="/">
    <input name="keyword" value="<%= filters.keyword || '' %>" placeholder="Keyword..." />
    <select name="brand">
      <option value="">All Brands</option>
      <option value="Toyota">Toyota</option>
      <option value="Honda">Honda</option>
      <option value="Ford">Ford</option>
      <option value="Audi">Audi</option>
      <option value="BMW">BMW</option>
      <option value="Mercedes">Mercedes</option>
    </select>
    <select name="type">
      <option value="">All Types</option>
      <option value="sedan">Sedan</option>
      <option value="SUV">SUV</option>
      <option value="truck">Truck</option>
    </select>
    <button type="submit">Apply Filters</button>
  </form>

  <!-- 车辆展示 -->
  <div class="grid">
    <% cars.forEach(car => { %>
      <div class="card">
        <h3><%= car.brand %> <%= car.model %></h3>
        <img src="/images/<%= car.image %>" alt="<%= car.brand %> <%= car.model %>">
        <p><strong>$<%= car.price %>/day</strong></p>
        <p>Type: <%= car.type %></p>
        <p>Fuel: <%= car.fuel %></p>
        <% if (car.available) { %>
          <a href="/reserve/<%= car.id %>">Rent Now</a>
        <% } else { %>
          <button disabled>Not Available</button>
        <% } %>
      </div>
    <% }) %>
  </div>
</body>
</html>
